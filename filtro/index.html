<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filtro</title>
    <style>
      .rotulo {
        display: inline-block;
        width: 100px;
      }
      .barra {
        display: inline-block;
        width: 0;
        height: 10px;
        background: orange;
        transition: all 1s;
      }
    </style>
  </head>
  <body>
    
    <label>
      Quantas casas t√™m um
      <select>
        <option value="cachorros" selected>üêï cachorro</option>
        <option value="gatos">üêà gato</option>
      </select>
      em cada canto do pa√≠s?
    </label>

    <ul>
      <li>
        <span class="rotulo">Todo o Brasil</span>
        <span class="barra"></span>
        <span class="percentual"></span>
      </li>
      <li>
        <span class="rotulo">Norte</span>
        <span class="barra"></span>
        <span class="percentual"></span>
      </li>
      <li>
        <span class="rotulo">Nordeste</span>
        <span class="barra"></span>
        <span class="percentual"></span>
      </li>
      <li>
        <span class="rotulo">Sudeste</span>
        <span class="barra"></span>
        <span class="percentual"></span>
      </li>
      <li>
        <span class="rotulo">Sul</span>
        <span class="barra"></span>
        <span class="percentual"></span>
      </li>
      <li>
        <span class="rotulo">Centro-Oeste</span>
        <span class="barra"></span>
        <span class="percentual"></span>
      </li>
    </ul>

    <footer>
      <p>Percentual de domic√≠lios com ao menos um animal.</p>
      <p>
        Fonte:
        <a href="https://sidra.ibge.gov.br/pesquisa/pns">Pesquisa Nacional de Sa√∫de 2019</a>,
        IBGE.
      </p>
    </footer>

    <script>
      let dados = [
        {
          "regiao": "Todo o Brasil",
          "gatos": 19,
          "cachorros": 46
        },
        {
          "regiao": "Norte",
          "gatos": 25,
          "cachorros": 52
        },
        {
          "regiao": "Nordeste",
          "gatos": 24,
          "cachorros": 38
        },
        {
          "regiao": "Sudeste",
          "gatos": 15,
          "cachorros": 44
        },
        {
          "regiao": "Sul",
          "gatos": 21,
          "cachorros": 57
        },
        {
          "regiao": "Centro-Oeste",
          "gatos": 17,
          "cachorros": 56
        }
      ]
      
      let itens = document.querySelectorAll( 'li' )
      let seletor = document.querySelector( 'select' )
      
      seletor.addEventListener( 'change', redimensionaBarras )

      function redimensionaBarras() {

        let animal = seletor.value
        
        for ( let dado of dados ) {

          let regiao = dado.regiao

          for ( let item of itens ) {

            let rotulo = item.querySelector( '.rotulo' )

            if ( rotulo.textContent == regiao ) {
              
              let barra = item.querySelector( '.barra' )
              let percentual = item.querySelector( '.percentual' )

              let valor = dado[ animal ]
              let largura = valor * 4

              barra.style.width = largura + 'px' 
              percentual.textContent = valor + '%'

            }

          }

        }

      }

      redimensionaBarras()

    </script>

  </body>
</html>